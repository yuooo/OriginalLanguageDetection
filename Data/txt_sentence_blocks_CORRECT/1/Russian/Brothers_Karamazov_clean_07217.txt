Ivan snapped irritably , but then he suddenly smiled bitterly . 
